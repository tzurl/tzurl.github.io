<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>URL Encoder for GitHub Pages</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        function encodeURL() {
            var url = document.getElementById('url').value;
            var type = document.getElementById('type').value;

            if (!url || !type) {
                alert('未提供 URL 或类型参数');
                return;
            }

            var encodedUrl = encodeURIComponent(btoa(url));

            var apiUrl = '';
            if (type === 'open') {
                apiUrl = 'http://openurl.zeabur.app/?url=' + encodedUrl;
            } else if (type === 'jump') {
                apiUrl = 'http://jumping.zeabur.app/?url=' + encodedUrl;
            } else {
                alert('无效的类型参数');
                return;
            }

            axios.get(apiUrl)
                .then(function(response) {
                    // 假设服务器返回的响应是 JSON 格式
                    var responseData = response.data;
                    if (responseData.code === 1) {
                        alert('成功: ' + responseData.msg + '\nURL: ' + responseData.url);
                    } else {
                        alert('失败: ' + responseData.msg);
                    }
                })
                .catch(function(error) {
                    alert('请求失败: ' + error.message);
                });
        }
    </script>
</head>
<body>
    <h1>URL Encoder for GitHub Pages</h1>
    <input type="text" id="url" placeholder="Enter URL">
    <select id="type">
        <option value="open">Open</option>
        <option value="jump">Jump</option>
    </select>
    <button onclick="encodeURL()">Encode</button>
</body>
</html>
